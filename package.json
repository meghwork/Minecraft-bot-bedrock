// File: package.json
{
  "name": "bedrock-bot",
  "version": "1.0.0",
  "description": "A Minecraft Bedrock bot for Aternos using bedrock-protocol",
  "main": "bot.js",
  "scripts": {
    "start": "node bot.js"
  },
  "dependencies": {
    "bedrock-protocol": "^1.16.0",
    "express": "^4.18.2"
  }
}

// File: bot.js
const { createClient } = require('bedrock-protocol');
const express = require('express');
const app = express();

// Basic keep-alive web server for Render
app.get('/', (req, res) => res.send('Bot is alive'));
app.listen(process.env.PORT || 3000, () => console.log('Web server running'));

// Minecraft Bot config
const client = createClient({
  host: 'YOUR_SERVER_IP', // Replace with actual Bedrock server IP
  port: 19132,            // Default Bedrock port
  username: 'Bot123',     // Change bot name
  offline: true           // Bedrock uses offline login
});

client.on('join', () => {
  console.log('Bot has joined the server');

  // Make slight movements to prevent idle ban
  setInterval(() => {
    const yaw = Math.random() * 360;
    const pitch = Math.random() * 90 - 45;
    client.write('player_move', {
      position: client.entity.position,
      rotation: { x: pitch, y: yaw, z: 0 },
      mode: 0,
      on_ground: true,
      tick: 0n
    });
    console.log('Bot made a small move');
  }, 30000); // move every 30 seconds
});

client.on('disconnect', (packet) => {
  console.log('Bot disconnected:', packet.reason);
});
